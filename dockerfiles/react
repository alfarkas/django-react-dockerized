FROM node:lts-alpine

#WORKDIR /opt/frontend
RUN mkdir /opt/frontend
RUN cd /opt/frontend

# copy both 'package.json' and 'package-lock.json' (if available)
#COPY src/frontend/package*.json ./src/
COPY src/frontend/* ./src/
#RUN cd src
WORKDIR src
RUN ls

# install project dependencies
RUN npm install

RUN npm run-script build

COPY ./src/build/* ../
RUN rm -R ./src/*

#COPY ./src/frontend/ .

#EXPOSE 3000
#CMD npm start